# 对于视图层库的理解

React 官方说组件：
> 应该像是一个纯函数一样，不应该对传入的 props 做修改。

如何理解这话？

我们可以认为React，Vue等视图层库的作用是接过动态数据，生成网页界面。

写React、Vue时，主要精力在做这些事情：

- 组件划分
  - 抽离通用组件，以便后续重复使用
  - 组件嵌套组件，并且相互通信（父传子数据，子通知父事件）
- 视图与数据（状态）分而治之
  - 写视图：其实是写视图与数据变量的绑定，视图即浏览器原生识别的html和css
  - 状态管理：状态是与视图独立的实体，它们通过变量被视图引用，可以将状态处理的逻辑提取放在一个地方统一处理，它们只对视图输出最终的数据。
  - 改变视图：为了改变视图，要先改变状态，这是体现所谓数据驱动框架的地方。

## 什么是组件——框架实现的角度

于React纯函数，于Vue是由选项构成的对象。

Vue3引入了`setup`选项，`setup`是个生命周期函数，按Evan You说法，组件初始化时的第一件事是调用`setup`。我们可以把原本分散地写在`data`， `methods`，`created`等选项内的代码全部搬到`setup`函数中，通过`vue`这个顶级命名空间暴露出很多api来实现选项式写法的同等功能。所以自Vue3开始，写组件也变成了写函数。